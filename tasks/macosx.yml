- name: Install Brew Cask and XQuartz, necessary dependencies for several homebrew recipes
  shell: brew tap phinze/cask; brew tap caskroom/versions;  brew install brew-cask; brew cask install xquartz
  tags: test

- name: install common utilities on Mac OSX
  homebrew: name={{ item }} state=present
  tags: install macosx
  ignore_errors: true
  with_items:
    - macvim
    - meld
    - mysql
    - mongodb
    - the_silver_searcher
    - tmux
    - wget
    - redis
    - git
    - ssh-copy-id
    - htop-osx
    - nmap
    - mosh
    - watch
    - node
    - brew-cask

- name: install quicklook pluginsâ€”https://github.com/sindresorhus/quick-look-plugins
  ignore_errors: true
  command: brew cask install qlcolorcode qlstephen qlmarkdown quicklook-json qlprettypatch quicklook-csv betterzipql webp-quicklook suspicious-package && qlmanage -r --force
